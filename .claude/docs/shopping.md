# ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ êµ¬í˜„ ê³„íš

ì‘ì„±ì¼: 2026-02-05

---

## 1. í˜„ì¬ í‹€ë¡œ êµ¬í˜„ ê°€ëŠ¥í•œ ìˆ˜ì¤€

### âœ… ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥ (í˜„ì¬ ìŠ¤í‚¬ í™œìš©)

#### ê¸°ë³¸ ê¸°ëŠ¥
- **ìƒí’ˆ ê´€ë¦¬ (Product CRUD)**
  - ìƒí’ˆ ëª©ë¡ ì¡°íšŒ, ìƒì„¸ í˜ì´ì§€
  - ìƒí’ˆ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ (ê´€ë¦¬ììš©)
  - BE-CRUD + FE-CRUD ìŠ¤í‚¬ í™œìš©

- **ì¹´í…Œê³ ë¦¬ ê´€ë¦¬**
  - ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ ë¶„ë¥˜
  - ê³„ì¸µí˜• ì¹´í…Œê³ ë¦¬ (ë¶€ëª¨-ìì‹ ê´€ê³„)
  - DB-model ìŠ¤í‚¬ë¡œ Self-Referencing êµ¬í˜„

- **ì‚¬ìš©ì ê´€ë¦¬**
  - íšŒì› ì •ë³´ CRUD
  - í”„ë¡œí•„ í˜ì´ì§€
  - ë‹¨ìˆœ íšŒì› ê°€ì… í¼

- **ê¸°ë³¸ UI**
  - ìƒí’ˆ ëª©ë¡ ê·¸ë¦¬ë“œ
  - ìƒí’ˆ ìƒì„¸ í˜ì´ì§€
  - ê°„ë‹¨í•œ ê²€ìƒ‰/í•„í„°
  - Tailwind CSS ê¸°ë°˜ ë°˜ì‘í˜• ë””ìì¸

#### ê°œë°œ í™˜ê²½
- **ë¡œì»¬ ê°œë°œ ì„œë²„**
  - FastAPI (localhost:8000)
  - Next.js (localhost:3000)
  - ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥

- **API ë¬¸ì„œ**
  - Swagger UI ìë™ ìƒì„±
  - ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### âš ï¸ ì œí•œì  êµ¬í˜„ ê°€ëŠ¥ (ì¶”ê°€ ì‘ì—… í•„ìš”)

#### ì¤€ë¹„ëœ êµ¬ì¡° + ì¶”ê°€ ê°œë°œ
- **ê°„ë‹¨í•œ ì¥ë°”êµ¬ë‹ˆ**
  - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ (ë¹„íšŒì›)
  - DB ì—°ë™ (íšŒì›)
  - ìˆ˜ëŸ‰ ì¡°ì ˆ, ì‚­ì œ ê¸°ëŠ¥

- **ì£¼ë¬¸ ë‚´ì—­**
  - ì£¼ë¬¸ ì •ë³´ ì €ì¥ (ê²°ì œ ì œì™¸)
  - ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬ (ì ‘ìˆ˜, ë°°ì†¡ ì¤‘, ì™„ë£Œ)
  - ì£¼ë¬¸ ì¡°íšŒ í˜ì´ì§€

- **ê¸°ë³¸ ê²€ìƒ‰**
  - ìƒí’ˆëª… ê¸°ë°˜ ê²€ìƒ‰
  - ì¹´í…Œê³ ë¦¬ í•„í„°ë§
  - ê°€ê²© ë²”ìœ„ í•„í„°

### âŒ í˜„ì¬ í‹€ë¡œëŠ” êµ¬í˜„ ë¶ˆê°€ (ì™¸ë¶€ ì„œë¹„ìŠ¤/ì¶”ê°€ ì¸í”„ë¼ í•„ìš”)

#### ì™¸ë¶€ ì—°ë™ í•„ìˆ˜
- **ê²°ì œ ì‹œìŠ¤í…œ**
  - PGì‚¬ ì—°ë™ (Stripe, Toss Payments, KGì´ë‹ˆì‹œìŠ¤ ë“±)
  - ê²°ì œ SDK í†µí•© í•„ìš”

- **ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ…**
  - ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ/ì €ì¥
  - CDN í•„ìš” (AWS S3, Cloudinary, Vercel Blob ë“±)

- **ì´ë©”ì¼/SMS ì•Œë¦¼**
  - ì£¼ë¬¸ í™•ì¸ ë©”ì¼
  - ë°°ì†¡ ì•Œë¦¼
  - SMTP ì„œë²„ ë˜ëŠ” SendGrid, AWS SES í•„ìš”

- **ì‹¤ì‹œê°„ ì¬ê³  ë™ê¸°í™”**
  - WebSocket ë˜ëŠ” Server-Sent Events
  - Redis ìºì‹±

---

## 2. ë³€ê²½ì  ì¶”ì²œ

### ğŸ”´ í•„ìˆ˜ ë³€ê²½ì‚¬í•­

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
**í˜„ì¬:** SQLite (íŒŒì¼ ê¸°ë°˜)

**ë³€ê²½ í›„:** PostgreSQL

**ì´ìœ :**
- SQLiteëŠ” ë™ì‹œ ì“°ê¸° ì œí•œ (ë©€í‹°ìœ ì € í™˜ê²½ ë¶€ì í•©)
- íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ ë‚®ìŒ
- í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ ë°ì´í„° ì†ì‹¤ ìœ„í—˜

**ì ìš© ë°©ë²•:**
```python
# backend/app/database.py
DATABASE_URL = "postgresql://user:password@localhost:5432/shopping_db"
```

---

#### 2. ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œ ì¶”ê°€
**í˜„ì¬:** ì—†ìŒ

**ë³€ê²½ í›„:** JWT ê¸°ë°˜ ì¸ì¦

**í•„ìˆ˜ ê¸°ëŠ¥:**
- íšŒì›ê°€ì…/ë¡œê·¸ì¸
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (bcrypt)
- Access Token + Refresh Token
- ê¶Œí•œ êµ¬ë¶„ (ì¼ë°˜ ì‚¬ìš©ì / ê´€ë¦¬ì)

**ìƒˆë¡œìš´ ìŠ¤í‚¬ í•„ìš”:**
- BE-auth
- FE-auth

---

#### 3. íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ
**í˜„ì¬:** ì—†ìŒ

**ë³€ê²½ í›„:** í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€

**ì˜µì…˜:**
- **AWS S3** (ê°€ì¥ ë²”ìš©ì )
- **Cloudinary** (ì´ë¯¸ì§€ ìµœì í™” ìë™)
- **Vercel Blob** (Next.js í†µí•© ê°„í¸)

**êµ¬í˜„:**
```python
# ë°±ì—”ë“œ: ì´ë¯¸ì§€ ì—…ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸
@router.post("/products/{id}/images")
async def upload_image(file: UploadFile):
    # S3 ë˜ëŠ” Cloudinaryì— ì—…ë¡œë“œ
    url = await upload_to_storage(file)
    return {"image_url": url}
```

---

#### 4. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
**í˜„ì¬:** í•˜ë“œì½”ë”©

**ë³€ê²½ í›„:** `.env` íŒŒì¼ + pydantic-settings

**ì„¤ì • í•­ëª©:**
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´
- JWT ì‹œí¬ë¦¿ í‚¤
- S3/Cloudinary API í‚¤
- PGì‚¬ API í‚¤

```bash
# backend/.env
DATABASE_URL=postgresql://user:pass@localhost/db
SECRET_KEY=your-secret-key
AWS_ACCESS_KEY_ID=...
STRIPE_API_KEY=...
```

---

### ğŸŸ¡ ê¶Œì¥ ë³€ê²½ì‚¬í•­

#### 5. CORS ì„¤ì • ê°•í™”
**í˜„ì¬:** ëª¨ë“  origin í—ˆìš©

**ë³€ê²½ í›„:** í”„ë¡œë•ì…˜ ë„ë©”ì¸ë§Œ í—ˆìš©

```python
# backend/app/main.py
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",  # ê°œë°œ
        "https://yourdomain.com",  # í”„ë¡œë•ì…˜
    ],
    allow_credentials=True,
)
```

---

#### 6. í˜ì´ì§€ë„¤ì´ì…˜ í‘œì¤€í™”
**í˜„ì¬:** ì—†ìŒ

**ë³€ê²½ í›„:** Offset/Limit ë°©ì‹ ë˜ëŠ” Cursor ë°©ì‹

```python
@router.get("/products")
def list_products(skip: int = 0, limit: int = 20):
    products = db.query(Product).offset(skip).limit(limit).all()
    return products
```

---

#### 7. ì—ëŸ¬ ì‘ë‹µ í‘œì¤€í™”
**í˜„ì¬:** ê¸°ë³¸ FastAPI ì—ëŸ¬

**ë³€ê²½ í›„:** ì¼ê´€ëœ JSON í˜•ì‹

```python
{
  "error": {
    "code": "PRODUCT_NOT_FOUND",
    "message": "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {...}
  }
}
```

---

## 3. ì¶”ê°€ë˜ì–´ì•¼ í•  ê¸°ëŠ¥

### ğŸ›’ ì‡¼í•‘ëª° í•µì‹¬ ê¸°ëŠ¥

#### 1. ìƒí’ˆ ê´€ë¦¬
- [x] ìƒí’ˆ CRUD (ê¸°ë³¸ ê°€ëŠ¥)
- [ ] **ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ** (ì—¬ëŸ¬ ì¥)
- [ ] **ì¬ê³  ê´€ë¦¬** (ìˆ˜ëŸ‰ ì¶”ì , í’ˆì ˆ í‘œì‹œ)
- [ ] **ìƒí’ˆ ì˜µì…˜** (ìƒ‰ìƒ, ì‚¬ì´ì¦ˆ ë“±)
- [ ] **í• ì¸ê°€ ê´€ë¦¬** (ì •ê°€, í• ì¸ìœ¨, íŒë§¤ê°€)
- [ ] **ìƒí’ˆ ìƒíƒœ** (íŒë§¤ì¤‘, í’ˆì ˆ, ë‹¨ì¢…)

**DB ëª¨ë¸ ì˜ˆì‹œ:**
```python
class Product(Base):
    id = Column(Integer, primary_key=True)
    name = Column(String(200), nullable=False)
    description = Column(Text)
    price = Column(Numeric(10, 2), nullable=False)
    discount_rate = Column(Integer, default=0)  # 0-100
    stock = Column(Integer, default=0)
    status = Column(Enum("active", "sold_out", "discontinued"))
    category_id = Column(Integer, ForeignKey("categories.id"))

    # ê´€ê³„
    images = relationship("ProductImage", back_populates="product")
    options = relationship("ProductOption", back_populates="product")

class ProductImage(Base):
    id = Column(Integer, primary_key=True)
    product_id = Column(Integer, ForeignKey("products.id"))
    url = Column(String(500), nullable=False)
    order = Column(Integer, default=0)  # ì´ë¯¸ì§€ ìˆœì„œ
    is_primary = Column(Boolean, default=False)  # ëŒ€í‘œ ì´ë¯¸ì§€
```

---

#### 2. ì¥ë°”êµ¬ë‹ˆ ì‹œìŠ¤í…œ
- [ ] **ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€/ì‚­ì œ**
- [ ] **ìˆ˜ëŸ‰ ì¡°ì ˆ**
- [ ] **ì„ íƒ ì‚­ì œ** (ì²´í¬ë°•ìŠ¤)
- [ ] **ì „ì²´ ì„ íƒ/í•´ì œ**
- [ ] **í•©ê³„ ê¸ˆì•¡ ê³„ì‚°**
- [ ] **í’ˆì ˆ ìƒí’ˆ ì²˜ë¦¬**

**DB ëª¨ë¸:**
```python
class Cart(Base):
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey("users.id"))
    product_id = Column(Integer, ForeignKey("products.id"))
    quantity = Column(Integer, default=1)
    option_id = Column(Integer, ForeignKey("product_options.id"))
    created_at = Column(DateTime, default=datetime.utcnow)
```

**í”„ë¡ íŠ¸ì—”ë“œ ìƒíƒœ ê´€ë¦¬:**
- ë¹„íšŒì›: localStorage
- íšŒì›: DB + Zustand/Jotai (ì „ì—­ ìƒíƒœ)

---

#### 3. ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ
- [ ] **ì£¼ë¬¸ì„œ ì‘ì„±** (ë°°ì†¡ì§€, ìš”ì²­ì‚¬í•­)
- [ ] **ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ** (ì¹´ë“œ, ê³„ì¢Œì´ì²´, ê°„í¸ê²°ì œ)
- [ ] **PGì‚¬ ì—°ë™** (Toss Payments, Stripe ë“±)
- [ ] **ì£¼ë¬¸ í™•ì¸ í˜ì´ì§€**
- [ ] **ê²°ì œ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬**
- [ ] **ì¬ê³  ì°¨ê°** (íŠ¸ëœì­ì…˜)

**ì£¼ë¬¸ í”Œë¡œìš°:**
```
1. ì¥ë°”êµ¬ë‹ˆ â†’ ì£¼ë¬¸ì„œ ì‘ì„±
2. ë°°ì†¡ì§€ ì…ë ¥
3. ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ
4. PGì‚¬ ê²°ì œ í˜ì´ì§€ ì´ë™
5. ê²°ì œ ì™„ë£Œ í›„ ì½œë°±
6. ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
```

**DB ëª¨ë¸:**
```python
class Order(Base):
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey("users.id"))
    order_number = Column(String(50), unique=True)  # ORD-20260205-1234
    status = Column(Enum("pending", "paid", "shipped", "delivered", "cancelled"))

    # ë°°ì†¡ ì •ë³´
    recipient_name = Column(String(100))
    phone = Column(String(20))
    address = Column(String(500))
    postal_code = Column(String(10))
    request = Column(Text)  # ë°°ì†¡ ìš”ì²­ì‚¬í•­

    # ê²°ì œ ì •ë³´
    payment_method = Column(String(50))  # card, bank, kakao, etc
    total_amount = Column(Numeric(10, 2))
    paid_at = Column(DateTime)

    # ê´€ê³„
    items = relationship("OrderItem", back_populates="order")

class OrderItem(Base):
    id = Column(Integer, primary_key=True)
    order_id = Column(Integer, ForeignKey("orders.id"))
    product_id = Column(Integer, ForeignKey("products.id"))
    quantity = Column(Integer)
    price = Column(Numeric(10, 2))  # ì£¼ë¬¸ ë‹¹ì‹œ ê°€ê²© ì €ì¥
    option_name = Column(String(100))
```

---

#### 4. ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ
- [ ] **íšŒì›ê°€ì…** (ì´ë©”ì¼ ì¸ì¦)
- [ ] **ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ**
- [ ] **JWT í† í° ë°œê¸‰**
- [ ] **ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •**
- [ ] **ì†Œì…œ ë¡œê·¸ì¸** (Google, Kakao)
- [ ] **ê¶Œí•œ êµ¬ë¶„** (User, Admin)

**ì‚¬ìš©ì ëª¨ë¸:**
```python
class User(Base):
    id = Column(Integer, primary_key=True)
    email = Column(String(255), unique=True, nullable=False)
    password_hash = Column(String(255), nullable=False)
    name = Column(String(100))
    phone = Column(String(20))
    role = Column(Enum("user", "admin"), default="user")
    is_active = Column(Boolean, default=True)
    created_at = Column(DateTime, default=datetime.utcnow)

    # ê´€ê³„
    orders = relationship("Order", back_populates="user")
    cart_items = relationship("Cart", back_populates="user")
    addresses = relationship("Address", back_populates="user")
```

---

#### 5. ê²€ìƒ‰ ë° í•„í„°ë§
- [ ] **ìƒí’ˆëª… ê²€ìƒ‰** (ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰)
- [ ] **ì¹´í…Œê³ ë¦¬ í•„í„°**
- [ ] **ê°€ê²© ë²”ìœ„ í•„í„°**
- [ ] **ì •ë ¬** (ìµœì‹ ìˆœ, ê°€ê²© ë‚®ì€ìˆœ/ë†’ì€ìˆœ, ì¸ê¸°ìˆœ)
- [ ] **ê²€ìƒ‰ ìë™ì™„ì„±** (Optional)

**API ì—”ë“œí¬ì¸íŠ¸:**
```python
@router.get("/products/search")
def search_products(
    q: str = None,  # ê²€ìƒ‰ì–´
    category_id: int = None,
    min_price: float = None,
    max_price: float = None,
    sort_by: str = "created_at",
    order: str = "desc",
    skip: int = 0,
    limit: int = 20,
):
    query = db.query(Product)

    if q:
        query = query.filter(Product.name.ilike(f"%{q}%"))
    if category_id:
        query = query.filter(Product.category_id == category_id)
    if min_price:
        query = query.filter(Product.price >= min_price)
    if max_price:
        query = query.filter(Product.price <= max_price)

    # ì •ë ¬
    if sort_by == "price":
        query = query.order_by(Product.price.desc() if order == "desc" else Product.price)

    return query.offset(skip).limit(limit).all()
```

---

#### 6. ë¦¬ë·°/í‰ì  ì‹œìŠ¤í…œ
- [ ] **ìƒí’ˆ ë¦¬ë·° ì‘ì„±** (êµ¬ë§¤ìë§Œ)
- [ ] **ë³„ì  (1-5ì )**
- [ ] **ë¦¬ë·° ì´ë¯¸ì§€ ì²¨ë¶€**
- [ ] **ë„ì›€ì´ ëì–´ìš”** ê¸°ëŠ¥
- [ ] **ê´€ë¦¬ì ë‹µë³€**

**DB ëª¨ë¸:**
```python
class Review(Base):
    id = Column(Integer, primary_key=True)
    product_id = Column(Integer, ForeignKey("products.id"))
    user_id = Column(Integer, ForeignKey("users.id"))
    order_id = Column(Integer, ForeignKey("orders.id"))  # êµ¬ë§¤ ê²€ì¦
    rating = Column(Integer)  # 1-5
    content = Column(Text)
    images = Column(JSON)  # ["url1", "url2"]
    helpful_count = Column(Integer, default=0)
    created_at = Column(DateTime, default=datetime.utcnow)
```

---

#### 7. ê´€ë¦¬ì í˜ì´ì§€
- [ ] **ëŒ€ì‹œë³´ë“œ** (ë§¤ì¶œ, ì£¼ë¬¸ í†µê³„)
- [ ] **ìƒí’ˆ ê´€ë¦¬** (ë“±ë¡, ìˆ˜ì •, ì‚­ì œ)
- [ ] **ì£¼ë¬¸ ê´€ë¦¬** (ìƒíƒœ ë³€ê²½, ë°°ì†¡ ì²˜ë¦¬)
- [ ] **íšŒì› ê´€ë¦¬** (ëª©ë¡, ê¶Œí•œ ìˆ˜ì •)
- [ ] **ë¦¬ë·° ê´€ë¦¬** (ìŠ¹ì¸, ì‚­ì œ)
- [ ] **í†µê³„** (ì¼ë³„ ë§¤ì¶œ, ì¸ê¸° ìƒí’ˆ)

**í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°:**
```
frontend/src/app/
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ layout.tsx           # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°”)
â”‚   â”œâ”€â”€ dashboard/page.tsx   # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ products/page.tsx    # ìƒí’ˆ ê´€ë¦¬
â”‚   â”œâ”€â”€ orders/page.tsx      # ì£¼ë¬¸ ê´€ë¦¬
â”‚   â””â”€â”€ users/page.tsx       # íšŒì› ê´€ë¦¬
```

---

#### 8. ë°°ì†¡ ê´€ë¦¬
- [ ] **ë°°ì†¡ì§€ ì €ì¥** (ì—¬ëŸ¬ ê°œ)
- [ ] **ê¸°ë³¸ ë°°ì†¡ì§€ ì„¤ì •**
- [ ] **ë°°ì†¡ ìƒíƒœ ì¶”ì **
- [ ] **ìš´ì†¡ì¥ ë²ˆí˜¸ ì…ë ¥** (ê´€ë¦¬ì)

**DB ëª¨ë¸:**
```python
class Address(Base):
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey("users.id"))
    name = Column(String(100))  # ë°°ì†¡ì§€ëª… (ì§‘, íšŒì‚¬ ë“±)
    recipient = Column(String(100))
    phone = Column(String(20))
    address = Column(String(500))
    postal_code = Column(String(10))
    is_default = Column(Boolean, default=False)
```

---

#### 9. ìœ„ì‹œë¦¬ìŠ¤íŠ¸ (ì°œ)
- [ ] **ìƒí’ˆ ì°œí•˜ê¸°/í•´ì œ**
- [ ] **ì°œ ëª©ë¡ ì¡°íšŒ**
- [ ] **ì°œí•œ ìƒí’ˆ ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°**

**DB ëª¨ë¸:**
```python
class Wishlist(Base):
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey("users.id"))
    product_id = Column(Integer, ForeignKey("products.id"))
    created_at = Column(DateTime, default=datetime.utcnow)
```

---

#### 10. ì¿ í°/í”„ë¡œëª¨ì…˜
- [ ] **ì¿ í° ë°œê¸‰**
- [ ] **ì¿ í° ì ìš©**
- [ ] **í• ì¸ ê³„ì‚°**
- [ ] **ì‚¬ìš© ë‚´ì—­ ê´€ë¦¬**

**DB ëª¨ë¸:**
```python
class Coupon(Base):
    id = Column(Integer, primary_key=True)
    code = Column(String(50), unique=True)
    discount_type = Column(Enum("percentage", "fixed"))  # í¼ì„¼íŠ¸ or ê³ ì • ê¸ˆì•¡
    discount_value = Column(Numeric(10, 2))
    min_purchase_amount = Column(Numeric(10, 2))  # ìµœì†Œ êµ¬ë§¤ ê¸ˆì•¡
    max_discount_amount = Column(Numeric(10, 2))  # ìµœëŒ€ í• ì¸ ê¸ˆì•¡
    valid_from = Column(DateTime)
    valid_until = Column(DateTime)
    usage_limit = Column(Integer)  # ì‚¬ìš© íšŸìˆ˜ ì œí•œ
    used_count = Column(Integer, default=0)
```

---

### ğŸ”§ ê¸°ìˆ ì  ê°œì„  ì‚¬í•­

#### 11. ì„±ëŠ¥ ìµœì í™”
- [ ] **ì´ë¯¸ì§€ ë ˆì´ì§€ ë¡œë”©**
- [ ] **ë¬´í•œ ìŠ¤í¬ë¡¤** (ìƒí’ˆ ëª©ë¡)
- [ ] **Redis ìºì‹±** (ì¸ê¸° ìƒí’ˆ, ì¹´í…Œê³ ë¦¬)
- [ ] **DB ì¸ë±ì‹±** (ê²€ìƒ‰ ì„±ëŠ¥)
- [ ] **CDN í™œìš©** (ì •ì  íŒŒì¼)

---

#### 12. ë³´ì•ˆ
- [ ] **HTTPS ì ìš©** (í•„ìˆ˜)
- [ ] **SQL Injection ë°©ì–´** (ORM ì‚¬ìš©ìœ¼ë¡œ ê¸°ë³¸ ë°©ì–´)
- [ ] **XSS ë°©ì–´** (ì…ë ¥ ê²€ì¦, sanitize)
- [ ] **CSRF í† í°**
- [ ] **Rate Limiting** (API í˜¸ì¶œ ì œí•œ)
- [ ] **ë¹„ë°€ë²ˆí˜¸ ì •ì±…** (8ì ì´ìƒ, íŠ¹ìˆ˜ë¬¸ì í¬í•¨)

---

#### 13. ì•Œë¦¼ ì‹œìŠ¤í…œ
- [ ] **ì£¼ë¬¸ í™•ì¸ ì´ë©”ì¼**
- [ ] **ë°°ì†¡ ì‹œì‘ ì•Œë¦¼**
- [ ] **ë°°ì†¡ ì™„ë£Œ ì•Œë¦¼**
- [ ] **ì¬ì…ê³  ì•Œë¦¼**
- [ ] **í”„ë¡œëª¨ì…˜ ì•Œë¦¼**

**ì—°ë™ ì„œë¹„ìŠ¤:**
- SendGrid (ì´ë©”ì¼)
- AWS SES (ì´ë©”ì¼)
- Twilio (SMS)
- Firebase Cloud Messaging (í‘¸ì‹œ ì•Œë¦¼)

---

#### 14. ë¶„ì„/í†µê³„
- [ ] **ë°©ë¬¸ì ì¶”ì ** (Google Analytics)
- [ ] **ì „í™˜ìœ¨ ë¶„ì„**
- [ ] **ì¥ë°”êµ¬ë‹ˆ ì´íƒˆë¥ **
- [ ] **ë§¤ì¶œ í†µê³„ ëŒ€ì‹œë³´ë“œ**
- [ ] **ì¸ê¸° ìƒí’ˆ ìˆœìœ„**

---

## 4. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: MVP (ìµœì†Œ ê¸°ëŠ¥ ì œí’ˆ) - 2-3ì£¼

**ëª©í‘œ:** ê¸°ë³¸ì ì¸ ì‡¼í•‘ í”Œë¡œìš° êµ¬í˜„

- [x] í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- [ ] DB ë³€ê²½ (SQLite â†’ PostgreSQL)
- [ ] ìƒí’ˆ CRUD (ì´ë¯¸ì§€ ì œì™¸)
- [ ] ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
- [ ] ê°„ë‹¨í•œ ì¥ë°”êµ¬ë‹ˆ (localStorage)
- [ ] ì‚¬ìš©ì ì¸ì¦ (íšŒì›ê°€ì…/ë¡œê·¸ì¸)
- [ ] ì£¼ë¬¸ ì •ë³´ ì €ì¥ (ê²°ì œ ì œì™¸)

**ê²°ê³¼ë¬¼:**
- ìƒí’ˆ ë“±ë¡/ì¡°íšŒ ê°€ëŠ¥
- ë¡œê·¸ì¸ í›„ ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ê°€ëŠ¥
- ì£¼ë¬¸ì„œ ì‘ì„± ê°€ëŠ¥ (ê²°ì œ ë¯¸ì—°ë™)

---

### Phase 2: í•µì‹¬ ê¸°ëŠ¥ - 3-4ì£¼

**ëª©í‘œ:** ì‹¤ì œ êµ¬ë§¤ ê°€ëŠ¥í•œ ì‡¼í•‘ëª°

- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ (S3/Cloudinary)
- [ ] ê²°ì œ ì—°ë™ (Toss Payments ì¶”ì²œ)
- [ ] ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
- [ ] ì¬ê³  ê´€ë¦¬
- [ ] ê²€ìƒ‰/í•„í„°ë§
- [ ] ê´€ë¦¬ì í˜ì´ì§€ (ê¸°ë³¸)

**ê²°ê³¼ë¬¼:**
- ì‹¤ì œ ê²°ì œ ê°€ëŠ¥
- ê´€ë¦¬ìê°€ ì£¼ë¬¸ ê´€ë¦¬ ê°€ëŠ¥
- ì¬ê³  ìë™ ì°¨ê°

---

### Phase 3: ì‚¬ìš©ì ê²½í—˜ ê°œì„  - 2-3ì£¼

**ëª©í‘œ:** í¸ì˜ì„± ë° ì‹ ë¢°ì„± í–¥ìƒ

- [ ] ë¦¬ë·°/í‰ì  ì‹œìŠ¤í…œ
- [ ] ìœ„ì‹œë¦¬ìŠ¤íŠ¸
- [ ] ë°°ì†¡ì§€ ê´€ë¦¬
- [ ] ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ
- [ ] ì´ë©”ì¼ ì•Œë¦¼
- [ ] ì¿ í° ì‹œìŠ¤í…œ

**ê²°ê³¼ë¬¼:**
- ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ
- ì¬êµ¬ë§¤ ìœ ë„ ê¸°ëŠ¥

---

### Phase 4: ê³ ë„í™” - 3-4ì£¼

**ëª©í‘œ:** í”„ë¡œë•ì…˜ ì¤€ë¹„ ë° ìŠ¤ì¼€ì¼ë§

- [ ] ì„±ëŠ¥ ìµœì í™” (Redis, CDN)
- [ ] E2E í…ŒìŠ¤íŠ¸
- [ ] Docker ë°°í¬
- [ ] CI/CD íŒŒì´í”„ë¼ì¸
- [ ] ëª¨ë‹ˆí„°ë§ (Sentry, ë¡œê·¸)
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (í†µê³„)

**ê²°ê³¼ë¬¼:**
- í”„ë¡œë•ì…˜ ë°°í¬ ê°€ëŠ¥
- ì•ˆì •ì ì¸ ìš´ì˜ í™˜ê²½

---

## 5. í•„ìš”í•œ ìŠ¤í‚¬ ì¶”ê°€

### ìƒˆë¡œìš´ ìŠ¤í‚¬ ëª©ë¡

```yaml
# 1. BE-auth (í•„ìˆ˜)
name: BE-auth
description: JWT ì¸ì¦, íšŒì›ê°€ì…, ë¡œê·¸ì¸, ê¶Œí•œ ê´€ë¦¬
context: fork
agent: be-agent
```

```yaml
# 2. FE-auth (í•„ìˆ˜)
name: FE-auth
description: ë¡œê·¸ì¸ UI, í† í° ê´€ë¦¬, Protected Route
context: fork
agent: fe-agent
```

```yaml
# 3. BE-payment (í•„ìˆ˜)
name: BE-payment
description: ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™ (Toss, Stripe)
context: fork
agent: be-agent
```

```yaml
# 4. FE-cart (í•„ìˆ˜)
name: FE-cart
description: ì¥ë°”êµ¬ë‹ˆ UI ë° ìƒíƒœ ê´€ë¦¬
context: fork
agent: fe-agent
```

```yaml
# 5. BE-file-upload (í•„ìˆ˜)
name: BE-file-upload
description: ì´ë¯¸ì§€ ì—…ë¡œë“œ (S3, Cloudinary)
context: fork
agent: be-agent
```

```yaml
# 6. FE-admin (í•„ìˆ˜)
name: FE-admin
description: ê´€ë¦¬ì í˜ì´ì§€ (ìƒí’ˆ/ì£¼ë¬¸/íšŒì› ê´€ë¦¬)
context: fork
agent: fe-agent
```

```yaml
# 7. BE-search (ê¶Œì¥)
name: BE-search
description: ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰, í•„í„°ë§, ì •ë ¬
context: fork
agent: be-agent
```

```yaml
# 8. FE-checkout (í•„ìˆ˜)
name: FE-checkout
description: ì£¼ë¬¸ì„œ ì‘ì„±, ê²°ì œ í”Œë¡œìš°
context: fork
agent: fe-agent
```

---

## 6. ê¸°ìˆ  ìŠ¤íƒ ìµœì¢… ê¶Œì¥

### ë°±ì—”ë“œ
- **í”„ë ˆì„ì›Œí¬:** FastAPI
- **ë°ì´í„°ë² ì´ìŠ¤:** PostgreSQL (SQLite ëŒ€ì²´)
- **ORM:** SQLAlchemy
- **ì¸ì¦:** JWT (python-jose)
- **ë¹„ë°€ë²ˆí˜¸:** bcrypt
- **íŒŒì¼ ì—…ë¡œë“œ:** AWS S3 ë˜ëŠ” Cloudinary
- **ê²°ì œ:** Toss Payments (í•œêµ­) / Stripe (ê¸€ë¡œë²Œ)
- **ì´ë©”ì¼:** SendGrid ë˜ëŠ” AWS SES
- **ìºì‹±:** Redis (ì„ íƒ)

### í”„ë¡ íŠ¸ì—”ë“œ
- **í”„ë ˆì„ì›Œí¬:** Next.js 14 (App Router)
- **ì–¸ì–´:** TypeScript
- **ìŠ¤íƒ€ì¼:** Tailwind CSS
- **ìƒíƒœ ê´€ë¦¬:** Zustand (ì¥ë°”êµ¬ë‹ˆ, ì¸ì¦ ìƒíƒœ)
- **í¼ ê²€ì¦:** React Hook Form + Zod
- **ê²°ì œ UI:** Toss Payments SDK
- **ì´ë¯¸ì§€ ìµœì í™”:** Next.js Image

### ì¸í”„ë¼
- **í˜¸ìŠ¤íŒ… (BE):** AWS EC2, Fly.io, Railway
- **í˜¸ìŠ¤íŒ… (FE):** Vercel, Netlify
- **ë°ì´í„°ë² ì´ìŠ¤:** AWS RDS (PostgreSQL), Supabase
- **íŒŒì¼ ìŠ¤í† ë¦¬ì§€:** AWS S3, Cloudinary
- **ë„ë©”ì¸/SSL:** Route53 + ACM, Cloudflare

---

## 7. ì˜ˆìƒ ë¹„ìš© (MVP ê¸°ì¤€)

### ê°œë°œ ë¹„ìš©
- **ê°œë°œ ê¸°ê°„:** 2-3ê°œì›” (1ì¸ í’€íƒ€ì„ ê¸°ì¤€)
- **Phase 1-2 ì™„ë£Œ:** ìµœì†Œ êµ¬ë§¤ ê°€ëŠ¥

### ìš´ì˜ ë¹„ìš© (ì›”ê°„, ì†Œê·œëª¨ íŠ¸ë˜í”½ ê¸°ì¤€)
- **Vercel (í”„ë¡ íŠ¸ì—”ë“œ):** $0 (Hobby) ~ $20 (Pro)
- **Railway/Fly.io (ë°±ì—”ë“œ):** $5 ~ $20
- **AWS RDS (PostgreSQL):** $15 ~ $50
- **AWS S3 (ì´ë¯¸ì§€ ì €ì¥):** $5 ~ $10
- **SendGrid (ì´ë©”ì¼):** $0 (100í†µ/ì¼) ~ $20
- **ë„ë©”ì¸:** $10/ë…„
- **SSL:** $0 (Let's Encrypt)

**ì´ ì˜ˆìƒ ë¹„ìš©:** $25 ~ $100/ì›”

---

## 8. ê²°ë¡ 

### í˜„ì¬ í‹€ì˜ ê°•ì 
- âœ… ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ ê°€ëŠ¥
- âœ… ê¸°ë³¸ CRUD êµ¬ì¡° ì™„ì„±
- âœ… ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ë¶„ë¦¬ ì•„í‚¤í…ì²˜
- âœ… ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ íš¨ìœ¨ì  ê°œë°œ

### ì‡¼í•‘ëª° êµ¬í˜„ì„ ìœ„í•œ í•µì‹¬ ì¶”ê°€ ì‚¬í•­
1. **PostgreSQL ì „í™˜** (SQLite ëŒ€ì²´)
2. **ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œ** (BE-auth, FE-auth)
3. **ê²°ì œ ì—°ë™** (BE-payment)
4. **íŒŒì¼ ì—…ë¡œë“œ** (BE-file-upload)
5. **ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ ê´€ë¦¬** (FE-cart)
6. **ê´€ë¦¬ì í˜ì´ì§€** (FE-admin)

### ì¶”ì²œ ê°œë°œ ìˆœì„œ
```
1. DB ì „í™˜ (PostgreSQL)
2. ì¸ì¦ ì‹œìŠ¤í…œ êµ¬ì¶•
3. ìƒí’ˆ ê´€ë¦¬ (ì´ë¯¸ì§€ í¬í•¨)
4. ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
5. ì£¼ë¬¸ì„œ ì‘ì„±
6. ê²°ì œ ì—°ë™
7. ê´€ë¦¬ì í˜ì´ì§€
8. ë¦¬ë·°/í†µê³„ ë“± ë¶€ê°€ ê¸°ëŠ¥
```

**ìµœì†Œ êµ¬ë§¤ ê°€ëŠ¥ ë²„ì „(MVP)ê¹Œì§€:** 2-3ì£¼
**ì™„ì„±ë„ ë†’ì€ ì‡¼í•‘ëª°:** 2-3ê°œì›”

---

---

## 9. ì‡¼í•‘ëª° í•µì‹¬ ê¸°ëŠ¥ë§Œ ì¶”ë¦¬ê¸° (MVP ìš°ì„ ìˆœìœ„)

### â­â­â­ Phase 1: í•„ìˆ˜ ê¸°ëŠ¥ (2-3ì£¼)

#### 1. ìƒí’ˆ ê´€ë¦¬
- ìƒí’ˆ CRUD
- ì´ë¯¸ì§€ ì—…ë¡œë“œ (1-3ì¥)
- ì¬ê³  ìˆ˜ëŸ‰ í‘œì‹œ
- ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜

#### 2. ì‚¬ìš©ì ì¸ì¦
- íšŒì›ê°€ì…/ë¡œê·¸ì¸
- JWT í† í° ë°œê¸‰
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- ê¶Œí•œ êµ¬ë¶„ (ì¼ë°˜/ê´€ë¦¬ì)

#### 3. ì¥ë°”êµ¬ë‹ˆ
- ìƒí’ˆ ë‹´ê¸°/ì‚­ì œ
- ìˆ˜ëŸ‰ ì¡°ì ˆ
- í•©ê³„ ê¸ˆì•¡ ê³„ì‚°
- íšŒì›: DB ì €ì¥ / ë¹„íšŒì›: localStorage

#### 4. ì£¼ë¬¸/ê²°ì œ
- ì£¼ë¬¸ì„œ ì‘ì„±
- ë°°ì†¡ì§€ ì…ë ¥
- ê²°ì œ ì—°ë™ (Toss Payments)
- ì£¼ë¬¸ í™•ì¸ í˜ì´ì§€

#### 5. ê´€ë¦¬ì í˜ì´ì§€
- ìƒí’ˆ ë“±ë¡/ìˆ˜ì •
- ì£¼ë¬¸ ê´€ë¦¬ (ìƒíƒœ ë³€ê²½)
- ê°„ë‹¨í•œ í†µê³„ (ì´ ë§¤ì¶œ, ì£¼ë¬¸ ìˆ˜)

---

### â­â­ Phase 2: ê°œì„  ê¸°ëŠ¥ (ë‚˜ì¤‘ì—)

- ê²€ìƒ‰/í•„í„° (ìƒí’ˆëª…, ì¹´í…Œê³ ë¦¬, ê°€ê²©)
- ìƒí’ˆ ì •ë ¬ (ìµœì‹ ìˆœ, ê°€ê²©ìˆœ)

---

### â­ Phase 3: ì„ íƒ ê¸°ëŠ¥ (ì—¬ìœ  ìˆì„ ë•Œ)

- ë¦¬ë·°/í‰ì  ì‹œìŠ¤í…œ
- ìœ„ì‹œë¦¬ìŠ¤íŠ¸
- ì¿ í°/í”„ë¡œëª¨ì…˜
- ì´ë©”ì¼ ì•Œë¦¼

---

## 10. ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… ë°©ë²• ìƒì„¸ ë¹„êµ

### 1ï¸âƒ£ ë¡œì»¬ ì €ì¥ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)

**ì¥ì :**
- ë¬´ë£Œ
- ì™¸ë¶€ ì„œë¹„ìŠ¤ ë¶ˆí•„ìš”
- ë¹ ë¥¸ êµ¬í˜„

**ë‹¨ì :**
- ì„œë²„ ì¬ì‹œì‘ ì‹œ ì†ì‹¤ ê°€ëŠ¥
- ìŠ¤ì¼€ì¼ë§ ë¶ˆê°€
- CDN ì—†ìŒ
- í”„ë¡œë•ì…˜ ë¶€ì í•©

**êµ¬í˜„ ì½”ë“œ:**

```python
# backend/app/routers/upload.py
from fastapi import APIRouter, UploadFile, File, HTTPException
from pathlib import Path
import shutil
import uuid

router = APIRouter()
UPLOAD_DIR = Path("uploads/products")
UPLOAD_DIR.mkdir(parents=True, exist_ok=True)

@router.post("/upload")
async def upload_image(file: UploadFile = File(...)):
    # íŒŒì¼ í™•ì¥ì ê²€ì¦
    allowed_extensions = {".jpg", ".jpeg", ".png", ".webp"}
    file_ext = Path(file.filename).suffix.lower()

    if file_ext not in allowed_extensions:
        raise HTTPException(400, "ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤")

    # ê³ ìœ  íŒŒì¼ëª… ìƒì„±
    unique_filename = f"{uuid.uuid4()}{file_ext}"
    file_path = UPLOAD_DIR / unique_filename

    # íŒŒì¼ ì €ì¥
    with open(file_path, "wb") as buffer:
        shutil.copyfileobj(file.file, buffer)

    return {"url": f"/uploads/products/{unique_filename}"}

# main.pyì—ì„œ static files ì„¤ì •
from fastapi.staticfiles import StaticFiles
app.mount("/uploads", StaticFiles(directory="uploads"), name="uploads")
```

**ì‚¬ìš© ì‹œê¸°:** ì´ˆê¸° ê°œë°œ/í…ŒìŠ¤íŠ¸ ë‹¨ê³„ë§Œ

---

### 2ï¸âƒ£ Cloudinary (â­ ì¶”ì²œ)

**ì¥ì :**
- ë¬´ë£Œ í”Œëœ ì œê³µ (25GB ì €ì¥, 25GB ëŒ€ì—­í­/ì›”)
- ìë™ ì´ë¯¸ì§€ ìµœì í™” (WebP ë³€í™˜, ì••ì¶•)
- ë¦¬ì‚¬ì´ì§•/í¬ë¡­ ìë™
- CDN í¬í•¨ (ì „ ì„¸ê³„ ë¹ ë¥¸ ì†ë„)
- ê°„ë‹¨í•œ API

**ë‹¨ì :**
- ë¬´ë£Œ í”Œëœ ì´ˆê³¼ ì‹œ ë¹„ìš© ë°œìƒ

**ê°€ê²©:**
- Free: $0 (25GB ì €ì¥, 25GB ëŒ€ì—­í­)
- Plus: $99/ì›” (100GB)
- Advanced: $249/ì›” (500GB)

**ì„¤ì¹˜:**
```bash
pip install cloudinary
```

**êµ¬í˜„ ì½”ë“œ:**

```python
# backend/app/config.py
import cloudinary
from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    CLOUDINARY_CLOUD_NAME: str
    CLOUDINARY_API_KEY: str
    CLOUDINARY_API_SECRET: str

settings = Settings()

cloudinary.config(
    cloud_name=settings.CLOUDINARY_CLOUD_NAME,
    api_key=settings.CLOUDINARY_API_KEY,
    api_secret=settings.CLOUDINARY_API_SECRET
)

# backend/app/routers/upload.py
from cloudinary.uploader import upload, destroy

@router.post("/products/upload")
async def upload_product_image(file: UploadFile):
    try:
        # Cloudinaryì— ì—…ë¡œë“œ
        result = upload(
            file.file,
            folder="products",
            transformation=[
                {"width": 1000, "crop": "limit"},  # ìµœëŒ€ 1000px
                {"quality": "auto:good"}  # ìë™ ìµœì í™”
            ]
        )

        return {
            "url": result["secure_url"],
            "public_id": result["public_id"],
            "width": result["width"],
            "height": result["height"]
        }
    except Exception as e:
        raise HTTPException(500, f"ì—…ë¡œë“œ ì‹¤íŒ¨: {str(e)}")

@router.delete("/products/image/{public_id}")
async def delete_image(public_id: str):
    """ì´ë¯¸ì§€ ì‚­ì œ"""
    result = destroy(public_id)
    return {"result": result}
```

**í™˜ê²½ ë³€ìˆ˜ (.env):**
```bash
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
```

**í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš©:**
```tsx
// ì´ë¯¸ì§€ ìë™ ìµœì í™” URL
<img
  src={productImageUrl}
  alt="ìƒí’ˆ ì´ë¯¸ì§€"
  loading="lazy"
/>

// ë¦¬ì‚¬ì´ì§• URL ìƒì„±
const thumbnailUrl = productImageUrl.replace(
  '/upload/',
  '/upload/w_300,h_300,c_fill/'
);
```

**íšŒì›ê°€ì…:** https://cloudinary.com/users/register/free

**ì‚¬ìš© ì‹œê¸°:** MVPë¶€í„° í”„ë¡œë•ì…˜ê¹Œì§€ ì „ ë‹¨ê³„

---

### 3ï¸âƒ£ Vercel Blob (Next.js ì‚¬ìš© ì‹œ)

**ì¥ì :**
- Vercelê³¼ ì™„ë²½í•œ í†µí•©
- ì—£ì§€ ë„¤íŠ¸ì›Œí¬ (ë¹ ë¦„)
- ê°„ë‹¨í•œ API

**ë‹¨ì :**
- ë¬´ë£Œ í”Œëœ ì—†ìŒ
- Vercel ì¢…ì†

**ê°€ê²©:**
- $0.15/GB ì €ì¥
- $0.30/GB ëŒ€ì—­í­

**ì„¤ì¹˜:**
```bash
npm install @vercel/blob
```

**êµ¬í˜„ (Next.js API Route):**
```typescript
// frontend/src/app/api/upload/route.ts
import { put } from '@vercel/blob';
import { NextResponse } from 'next/server';

export async function POST(request: Request) {
  const form = await request.formData();
  const file = form.get('file') as File;

  if (!file) {
    return NextResponse.json({ error: 'No file' }, { status: 400 });
  }

  const blob = await put(file.name, file, {
    access: 'public',
    token: process.env.BLOB_READ_WRITE_TOKEN,
  });

  return NextResponse.json({ url: blob.url });
}

// ì‚¬ìš© ì˜ˆì‹œ
async function uploadImage(file: File) {
  const formData = new FormData();
  formData.append('file', file);

  const res = await fetch('/api/upload', {
    method: 'POST',
    body: formData,
  });

  const { url } = await res.json();
  return url;
}
```

**ì‚¬ìš© ì‹œê¸°:** Vercelì— ë°°í¬í•˜ê³  Next.js ì¤‘ì‹¬ ê°œë°œ ì‹œ

---

### 4ï¸âƒ£ AWS S3 (í”„ë¡œë•ì…˜ê¸‰, ëŒ€ê·œëª¨)

**ì¥ì :**
- ë¬´ì œí•œ í™•ì¥ì„±
- ì €ë ´í•œ ë¹„ìš© ($0.023/GB)
- ë†’ì€ ì•ˆì •ì„± (99.999999999%)
- CloudFront CDN ì—°ë™ ê°€ëŠ¥

**ë‹¨ì :**
- ì„¤ì • ë³µì¡ (IAM, Bucket Policy)
- ì´ë¯¸ì§€ ìµœì í™” ë³„ë„ ì‘ì—… í•„ìš”

**ê°€ê²©:**
- ìŠ¤í† ë¦¬ì§€: $0.023/GB/ì›”
- ë°ì´í„° ì „ì†¡: $0.09/GB (ì²˜ìŒ 10TB)
- PUT ìš”ì²­: $0.005/1000ê±´

**ì„¤ì¹˜:**
```bash
pip install boto3
```

**êµ¬í˜„ ì½”ë“œ:**

```python
# backend/app/services/s3.py
import boto3
from botocore.exceptions import ClientError
from app.config import settings

s3_client = boto3.client(
    's3',
    aws_access_key_id=settings.AWS_ACCESS_KEY_ID,
    aws_secret_access_key=settings.AWS_SECRET_ACCESS_KEY,
    region_name=settings.AWS_REGION
)

async def upload_to_s3(file: UploadFile, folder: str = "products"):
    try:
        # ê³ ìœ  íŒŒì¼ëª… ìƒì„±
        file_ext = Path(file.filename).suffix
        unique_filename = f"{folder}/{uuid.uuid4()}{file_ext}"

        # S3 ì—…ë¡œë“œ
        s3_client.upload_fileobj(
            file.file,
            settings.S3_BUCKET_NAME,
            unique_filename,
            ExtraArgs={
                'ACL': 'public-read',
                'ContentType': file.content_type
            }
        )

        # URL ìƒì„±
        url = f"https://{settings.S3_BUCKET_NAME}.s3.{settings.AWS_REGION}.amazonaws.com/{unique_filename}"
        return url

    except ClientError as e:
        raise HTTPException(500, f"S3 ì—…ë¡œë“œ ì‹¤íŒ¨: {str(e)}")

# ì´ë¯¸ì§€ ì‚­ì œ
async def delete_from_s3(file_key: str):
    s3_client.delete_object(
        Bucket=settings.S3_BUCKET_NAME,
        Key=file_key
    )
```

**í™˜ê²½ ë³€ìˆ˜:**
```bash
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_REGION=ap-northeast-2
S3_BUCKET_NAME=your-bucket-name
```

**S3 Bucket ì„¤ì •:**
1. AWS ì½˜ì†”ì—ì„œ S3 ë²„í‚· ìƒì„±
2. í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤ í—ˆìš© ì„¤ì •
3. CORS ì„¤ì •:
```json
[
  {
    "AllowedHeaders": ["*"],
    "AllowedMethods": ["GET", "POST", "PUT", "DELETE"],
    "AllowedOrigins": ["*"],
    "ExposeHeaders": []
  }
]
```

**ì‚¬ìš© ì‹œê¸°:** íŠ¸ë˜í”½ ë§ì€ í”„ë¡œë•ì…˜, ë¹„ìš© ìµœì í™” í•„ìš” ì‹œ

---

### 5ï¸âƒ£ Supabase Storage

**ì¥ì :**
- Supabase ì‚¬ìš© ì‹œ DBì™€ í†µí•©
- ë¬´ë£Œ í”Œëœ 1GB
- ê°„ë‹¨í•œ API

**ë‹¨ì :**
- Supabase ì¢…ì†
- ì´ë¯¸ì§€ ìµœì í™” ì—†ìŒ

**ê°€ê²©:**
- Free: 1GB
- Pro: $25/ì›” (100GB)

**ì„¤ì¹˜:**
```bash
pip install supabase
```

**êµ¬í˜„:**
```python
from supabase import create_client

supabase = create_client(
    settings.SUPABASE_URL,
    settings.SUPABASE_KEY
)

@router.post("/upload")
async def upload_image(file: UploadFile):
    file_bytes = await file.read()
    unique_filename = f"{uuid.uuid4()}{Path(file.filename).suffix}"

    # ì—…ë¡œë“œ
    supabase.storage.from_('products').upload(
        unique_filename,
        file_bytes
    )

    # Public URL ìƒì„±
    url = supabase.storage.from_('products').get_public_url(unique_filename)
    return {"url": url}
```

**ì‚¬ìš© ì‹œê¸°:** Supabaseë¥¼ DBë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

---

## 11. ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… ìµœì¢… ì¶”ì²œ

### ê°œë°œ/í…ŒìŠ¤íŠ¸ ë‹¨ê³„
â†’ **ë¡œì»¬ ì €ì¥** (ë¬´ë£Œ, ë¹ ë¥¸ êµ¬í˜„)

### MVP ì¶œì‹œ
â†’ **Cloudinary ë¬´ë£Œ í”Œëœ** (25GBë©´ ì¶©ë¶„, ìë™ ìµœì í™”)

### í”„ë¡œë•ì…˜ (íŠ¸ë˜í”½ ì ìŒ)
â†’ **Cloudinary ìœ ë£Œ í”Œëœ** ($99/ì›”, ê´€ë¦¬ í¸í•¨)

### í”„ë¡œë•ì…˜ (íŠ¸ë˜í”½ ë§ìŒ, ë¹„ìš© ìµœì í™”)
â†’ **AWS S3 + CloudFront** (ì €ë ´, í™•ì¥ì„± ë†’ìŒ)

### Next.js + Vercel ë°°í¬
â†’ **Vercel Blob** (í†µí•© ê°„í¸)

### PostgreSQL + Supabase
â†’ **Supabase Storage** (DBì™€ í†µí•©)

---

## 12. Cloudinary ì‹œì‘ ê°€ì´ë“œ (ì¶”ì²œ)

### Step 1: íšŒì›ê°€ì…
1. https://cloudinary.com/users/register/free ì ‘ì†
2. ì´ë©”ì¼ íšŒì›ê°€ì… (Google ì—°ë™ ê°€ëŠ¥)
3. Dashboardì—ì„œ ì •ë³´ í™•ì¸:
   - Cloud Name
   - API Key
   - API Secret

### Step 2: ë°±ì—”ë“œ ì„¤ì •
```bash
# ì„¤ì¹˜
pip install cloudinary

# .env íŒŒì¼ ìƒì„±
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
```

### Step 3: ì½”ë“œ ì ìš©
ìœ„ì˜ Cloudinary êµ¬í˜„ ì½”ë“œ ì°¸ê³ 

### Step 4: í…ŒìŠ¤íŠ¸
Swagger UI (localhost:8000/docs)ì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸

### Step 5: í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™
```tsx
const handleImageUpload = async (file: File) => {
  const formData = new FormData();
  formData.append('file', file);

  const res = await fetch('/api/products/upload', {
    method: 'POST',
    body: formData,
  });

  const { url } = await res.json();
  console.log('ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URL:', url);
};
```

---

**ì‘ì„±ì:** Claude Sonnet 4.5
**ì‘ì„±ì¼:** 2026-02-05
**ìµœì¢… ìˆ˜ì •:** 2026-02-05
